{% extends "admin_base.html" %}
{% load static %}

{% block content %}

<style>
    .btn-action {
        border: none;
        background: transparent;
        cursor: pointer;
        font-size: 1.2rem;
        padding: 0 5px;
        transition: color 0.2s;
    }

    .btn-edit { color: #555; text-decoration: none; }
    .btn-edit:hover { color: #0056b3; }

    .btn-delete { color: #555; }
    .btn-delete:hover { color: #dc3545; }
</style>

    <a href="{% url 'adminlte:add_page' %}" class="btn btn-primary rounded-pill px-3">
    <i class="bi bi-plus-lg"></i> Додати нову сторінку
    </a>
    <br> <br>
<table class="table table-striped align-middle"> <thead>
    <tr>
      <th scope="col">Назва</th>
      <th scope="col">Дата оновлення</th>
      <th scope="col">Статус</th>
      <th scope="col" style="width: 100px;">Дії</th>
    </tr>
  </thead>
  <tbody>

    <tr>
      <td>Головна сторінка</td>
      <td>{{ main_page.updated_at }}</td>
      <td></td>

      <td>
          <a href="{% url 'adminlte:edit_mainpage' %}" class="btn-action btn-edit" title="Редагувати">
             &#9998;
          </a>
      </td>
    </tr>

    <tr>
      <td>Контакти</td>
      <td>{{ main_page.updated_at }}</td>
      <td></td>

      <td>
          <a href="{% url 'adminlte:contacts' %}" class="btn-action btn-edit" title="Редагувати">
             &#9998;
          </a>
      </td>
    </tr>


    {% for page in pages %}

    <tr>
      <td>{{ page.title }}</td>
      <td>{{ page.updated_at }}</td>
      <td>{{ page.is_active }}</td>

      <td>
          <a href="{% url 'adminlte:edit_page' pk=page.id %}" class="btn-action btn-edit" title="Редагувати">&#9998;</a>
          {% if page.is_removable %}
                <form action="{% url 'adminlte:delete_page' pk=page.id %}" method="POST" style="display:inline;">
             {% csrf_token %} <button type="submit" class="btn-action btn-delete" title="Видалити" onclick="return confirm('Ви впевнені?')">
                    &#128465;
             </button>
          </form>
          {% endif %}
      </td>
    </tr>

  {% endfor %}
  </tbody>
</table>

{% endblock %}