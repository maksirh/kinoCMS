{% extends "admin_base.html" %}


{% block content %}

<div class="container-fluid">

  <!-- === На головній — верх === -->
  <form method="post" enctype="multipart/form-data" id="form-top">
    {% csrf_token %}
    <div class="card mb-4">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="card-title mb-0">На головній — верх</h5>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" name="top_enabled" id="top_enabled" checked>
          <label class="form-check-label" for="top_enabled">Увімкнено</label>
        </div>
      </div>

      <div class="card-body">
        <p class="text-secondary small mb-2">Розмір: <strong>1000×190</strong></p>

        <div class="d-flex flex-wrap gap-3" id="top-list" data-name="top">
          <!-- Банер-картка (шаблон клонування) -->
          <div class="banner-item card p-2" style="width: 180px;">
            <div class="d-flex justify-content-end">
              <button type="button" class="btn btn-sm btn-outline-secondary rounded-circle btn-remove" title="Видалити" aria-label="Видалити">&times;</button>
            </div>

            <div class="ratio ratio-16x9 mb-2 bg-body-secondary border rounded overflow-hidden">
              <img class="banner-preview w-100 h-100 object-fit-cover" alt="preview" src="">
            </div>

            <div class="d-grid gap-2">
              <label class="btn btn-outline-primary btn-sm mb-0">
                Додати
                <input class="banner-file d-none" type="file" accept="image/*" name="top_image[]">
              </label>
            </div>

            <div class="mt-2">
              <label class="form-label form-label-sm mb-1">URL</label>
              <input type="url" class="form-control form-control-sm" name="top_url[]" placeholder="https://...">
            </div>

            <div class="mt-2">
              <label class="form-label form-label-sm mb-1">Текст</label>
              <input type="text" class="form-control form-control-sm" name="top_text[]" placeholder="Підпис банеру">
            </div>
          </div>
          <!-- /банер-картка -->
        </div>

        <div class="mt-3 d-flex gap-2">
          <button type="button" class="btn btn-outline-secondary btn-sm" data-action="add" data-target="#top-list">Додати ще фото</button>

          <div class="ms-auto d-flex align-items-center gap-2">
            <label for="top_speed" class="mb-0">Швидкість ротації:</label>
            <select id="top_speed" name="top_speed" class="form-select form-select-sm" style="width: auto;">
              <option value="3">3с</option>
              <option value="5" selected>5с</option>
              <option value="8">8с</option>
              <option value="12">12с</option>
            </select>
            <button type="submit" class="btn btn-primary">Зберегти</button>
          </div>
        </div>
      </div>
    </div>
  </form>

  <!-- === Сквозний банер на задньому фоні === -->
  <form method="post" enctype="multipart/form-data" id="form-bg" class="mb-4">
    {% csrf_token %}
    <div class="card">
      <div class="card-header"><h5 class="card-title mb-0">Сквозний банер на задньому фоні</h5></div>
      <div class="card-body">
        <p class="text-secondary small mb-3">Розмір: <strong>2000×3000</strong></p>

        <div class="row g-3 align-items-end">
          <div class="col-auto">
            <div class="ratio ratio-16x9 bg-body-secondary border rounded overflow-hidden" style="width:210px;">
              <img class="banner-preview w-100 h-100 object-fit-cover" id="bg-preview" alt="">
            </div>
          </div>
          <div class="col-auto d-grid">
            <label class="btn btn-outline-primary mb-0">
              Додати
              <input type="file" class="d-none" id="bg-file" name="bg_image" accept="image/*">
            </label>
          </div>
          <div class="col-auto d-grid">
            <button type="button" class="btn btn-outline-danger" id="bg-remove">Видалити</button>
          </div>
        </div>

        <div class="mt-4">
          <div class="form-check">
            <input class="form-check-input" type="radio" name="bg_mode" id="bg_mode_photo" value="photo" checked>
            <label class="form-check-label" for="bg_mode_photo">Фото на фоні</label>
          </div>
          <div class="form-check mt-1">
            <input class="form-check-input" type="radio" name="bg_mode" id="bg_mode_plain" value="plain">
            <label class="form-check-label" for="bg_mode_plain">Просто фон</label>
          </div>
        </div>

        <div class="mt-3 text-end">
          <button type="submit" class="btn btn-primary">Зберегти</button>
        </div>
      </div>
    </div>
  </form>

  <!-- === На головній — Новини / Акції === -->
  <form method="post" enctype="multipart/form-data" id="form-news">
    {% csrf_token %}
    <div class="card">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="card-title mb-0">На головній — Новини / Акції</h5>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" name="news_enabled" id="news_enabled" checked>
          <label class="form-check-label" for="news_enabled">Увімкнено</label>
        </div>
      </div>

      <div class="card-body">
        <p class="text-secondary small mb-2">Розмір: <strong>1000×190</strong></p>

        <div class="d-flex flex-wrap gap-3" id="news-list" data-name="news">
          <!-- клонувані елементи такі самі, як у верхньому блоці -->
        </div>

        <div class="mt-3 d-flex gap-2">
          <button type="button" class="btn btn-outline-secondary btn-sm" data-action="add" data-target="#news-list">Додати ще фото</button>

          <div class="ms-auto d-flex align-items-center gap-2">
            <label for="news_speed" class="mb-0">Швидкість ротації:</label>
            <select id="news_speed" name="news_speed" class="form-select form-select-sm" style="width:auto;">
              <option value="3">3с</option>
              <option value="5" selected>5с</option>
              <option value="8">8с</option>
              <option value="12">12с</option>
            </select>
            <button type="submit" class="btn btn-primary">Зберегти</button>
          </div>
        </div>
      </div>
    </div>
  </form>

</div>

<!-- Шаблон картки для клонування (прихований) -->
<template id="tpl-banner-item">
  <div class="banner-item card p-2" style="width: 180px;">
    <div class="d-flex justify-content-end">
      <button type="button" class="btn btn-sm btn-outline-secondary rounded-circle btn-remove" title="Видалити" aria-label="Видалити">&times;</button>
    </div>
    <div class="ratio ratio-16x9 mb-2 bg-body-secondary border rounded overflow-hidden">
      <img class="banner-preview w-100 h-100 object-fit-cover" alt="preview" src="">
    </div>
    <div class="d-grid gap-2">
      <label class="btn btn-outline-primary btn-sm mb-0">
        Додати
        <input class="banner-file d-none" type="file" accept="image/*">
      </label>
    </div>
    <div class="mt-2">
      <label class="form-label form-label-sm mb-1">URL</label>
      <input type="url" class="form-control form-control-sm" placeholder="https://...">
    </div>
    <div class="mt-2">
      <label class="form-label form-label-sm mb-1">Текст</label>
      <input type="text" class="form-control form-control-sm" placeholder="Підпис банеру">
    </div>
  </div>
</template>
{% endblock %}

