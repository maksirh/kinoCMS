{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% block title %}Адмінка{% endblock %}</title>

  <!-- Шрифт (локально, як ти зробив) -->
  <link rel="stylesheet" href="{% static 'css/fonts.css' %}">

  <!-- Bootstrap 5 CSS (якщо не вшитий у adminlte.css) -->
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

  <!-- Bootstrap Icons (для <i class="bi ...">) -->
  <link rel="stylesheet" href="{% static 'css/bootstrap-icons.css' %}">

  <!-- OverlayScrollbars (опціонально, але бажано для сайдбару) -->
  <link rel="stylesheet" href="{% static 'css/overlayscrollbars.min.css' %}">

    <link rel="stylesheet" href="{% static 'css/adminlte.css' %}">


  {% block extra_css %}{% endblock %}
</head>

<body class="layout-fixed sidebar-expand-lg bg-body-tertiary">

  <!-- Navbar (тільки верхнє меню) -->
  <nav class="app-header navbar navbar-expand bg-body">
    <div class="container-fluid">
      <!-- Ліва частина -->
      <ul class="navbar-nav">
        <!-- Кнопка відкриття/закриття сайдбару -->
        <li class="nav-item">
          <a class="nav-link" data-lte-toggle="sidebar" href="#" role="button">
            <i class="bi bi-list"></i>
          </a>
        </li>

        <li class="nav-item d-none d-md-block">
          <a href="#" class="nav-link">Home</a>
        </li>
      </ul>

      <!-- Права частина -->
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="bi bi-bell"></i></a>
        </li>
        <li class="nav-item dropdown user-menu">
          <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
            <img src="{% static 'assets/img/user2-160x160.jpg' %}" class="user-image rounded-circle" alt="User">
            <span class="d-none d-md-inline">Admin</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="#">Профіль</a></li>
            <li><a class="dropdown-item" href="#">Вихід</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Sidebar (тільки бічне меню) -->
  <aside class="app-sidebar bg-body-secondary shadow" data-bs-theme="dark">
    <!-- Brand -->
    <div class="sidebar-brand">
      <a href="{% url 'admin:index' %}" class="brand-link">
        <span class="brand-text fw-bold">KinoCMS Admin</span>
      </a>
    </div>

    <!-- Вміст сайдбару -->
    <div class="sidebar-wrapper">
      <nav class="mt-2">
        <ul class="nav sidebar-menu flex-column" data-lte-toggle="treeview" role="menu">
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-speedometer2"></i>
              <p>Дашборд</p>
            </a>
          </li>

          <li class="nav-item has-treeview">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-film"></i>
              <p>
                Фільми
                <i class="end bi bi-chevron-right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="nav-icon bi bi-circle"></i>
                  <p>Список</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="nav-icon bi bi-circle"></i>
                  <p>Додати</p>
                </a>
              </li>
            </ul>
          </li>

          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-calendar-event"></i>
              <p>Сеанси</p>
            </a>
          </li>

          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-grid-3x3-gap"></i>
              <p>Зали</p>
            </a>
          </li>

          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-cup-hot"></i>
              <p>Кафе-Бар</p>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </aside>

  <!-- Основний вміст сторінки -->
  <main class="app-main">
    <div class="app-content pt-3 px-3">
      {% block content %}{% endblock %}
    </div>
  </main>

  <!-- JS: підключати внизу -->
  <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'js/overlayscrollbars.umd.min.js' %}"></script>
  <script src="{% static 'js/adminlte.js' %}"  ></script>


  <!-- Ініціалізація кастомного скролу для сайдбару (опційно) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const el = document.querySelector('.sidebar-wrapper');
      if (el && window.OverlayScrollbarsGlobal) {
        OverlayScrollbarsGlobal.OverlayScrollbars(el, {
          scrollbars: { autoHide: 'leave' }
        });
      }
    });
  </script>

  {% block extra_js %}{% endblock %}
</body>
</html>
